<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>START-HER â€“ Musikkvideouka</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #f4f7fb;
      color: #222;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 700px;
      margin: 2.5rem auto 2.5rem auto;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 24px rgba(42,74,156,0.09);
      padding: 2.5rem 2.2rem 2.5rem 2.2rem;
    }
    h1 {
      color: #2a4a9c;
      font-size: 2.1rem;
      margin-bottom: 1.2rem;
    }
    h2 {
      color: #2a4a9c;
      font-size: 1.3rem;
      margin-top: 2.5rem;
      margin-bottom: 0.7rem;
    }
    .knapper {
      display: flex;
      gap: 1.2rem;
      margin: 1.2rem 0 0.7rem 0;
    }
    .knapp {
      background: #2a4a9c;
      color: #fff;
      padding: 0.7em 1.5em;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 500;
      font-size: 1.1rem;
      transition: background 0.18s;
      border: none;
      box-shadow: 0 2px 8px rgba(42,74,156,0.07);
    }
    .knapp:hover {
      background: #18336b;
    }
    code {
      background: #e6eaff;
      color: #2a4a9c;
      border-radius: 5px;
      padding: 0.1em 0.4em;
      font-size: 1em;
    }
    pre {
      background: #f7faff;
      border-radius: 8px;
      padding: 1em 1.2em;
      font-size: 1em;
      overflow-x: auto;
      border: 1px solid #e6eaff;
    }
    .advanced-box {
      margin-top: 2.5rem;
      border: 2px solid #2a4a9c;
      border-radius: 12px;
      background: #f7faff;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 4px 18px rgba(42,74,156,0.07);
    }
    .advanced-box details {
      margin: 0;
      padding: 0;
    }
    .advanced-box summary {
      display: flex;
      align-items: center;
      font-size: 1.13rem;
      font-weight: bold;
      color: #2a4a9c;
      background: none;
      border: none;
      outline: none;
      padding: 1.1em 1.2em 1.1em 1.2em;
      cursor: pointer;
      border-radius: 12px 12px 0 0;
      transition: background 0.2s;
      user-select: none;
    }
    .advanced-box summary:hover {
      background: #e6eaff;
    }
    .advanced-arrow {
      display: inline-block;
      margin-right: 0.7em;
      font-size: 1.2em;
      transition: transform 0.2s;
    }
    .advanced-box details[open] > summary .advanced-arrow {
      transform: rotate(90deg);
    }
    .advanced-title {
      font-size: 1.13rem;
      font-weight: bold;
      color: #2a4a9c;
    }
    .advanced-content {
      padding: 1.2em 1.5em 1.5em 1.5em;
      background: none;
      border-radius: 0 0 12px 12px;
    }
    @media (max-width: 600px) {
      .container {
        padding: 1.1rem 0.5rem 1.5rem 0.5rem;
      }
      .advanced-box {
        max-width: 98vw;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Velkommen til Musikkvideouka-appen!</h1>
    <p>Dette er en lokal webapp for Ã¥ vise grupper og poeng under Musikkvideouka. Du har en <strong>publikumsside</strong> (for visning) og et <strong>adminpanel</strong> (for lÃ¦rere/arrangÃ¸rer). Alt lagres lokalt â€“ ingen internett kreves.</p>

    <h2 style="margin-top:2.2rem;">ğŸŸ¢ Oppsett og oppstart</h2>
    <ol>
      <li>Denne applikasjonen krever Node.js for Ã¥ fungere. Du kan laste ned Node.js:</li>
      <ul>
          <li>ved Ã¥ bruke firmaportal dersom bedriften din har dette.</li>
          <li>I MacOS kan du skrive <code>brew install node</code> i terminalen dersom du har Homebrew installert.</li>
          <li>I Windows kan du laste ned og installere Node.js med <code>winget install OpenJS.NodeJS</code> i Windows PowerShell eller Kommandoprompt.
          <li>Eller du kan laste ned Node.js fra <a href="https://nodejs.org/en/download/" target="_blank">https://nodejs.org/en/download/</a></li>
        </ul>
      <li>Deretter mÃ¥ du Ã¥pne en terminal/kommandolinje og navigere til mappen hvor prosjektet ligger.</li>
      <ul>
          <li>Hvis mappen ligger under nedlastninger, kan stien vÃ¦re slik: <code>cd nedlastinger/Musikkvideouka</code>  </li>
      <li>NÃ¥r du har navigert til prosjektmappen, kjÃ¸rer du <code>npm install</code> i terminalen/kommandolinjen fÃ¸rste gang, for Ã¥ installere nÃ¸dvendige moduler.</li>
      
      <li><strong>Start serveren:</strong>
        <ul>
          <li><strong>Windows:</strong> Dobbeltklikk <code>Win-start-server.bat</code></li>
          <li><strong>Mac:</strong> Dobbeltklikk <code>MacOS-start-alt.command</code> (gi evt. kjÃ¸re-tillatelse, se Avansert nederst)</li>
          <li><strong>Manuelt:</strong> KjÃ¸r <code>node server.js</code> i terminalen</li>
        </ul>
      </li>
    </ol>

    <div class="knapper">
      <a class="knapp" href="/" target="_blank">Publikumsside</a>
      <a class="knapp" href="/admin" target="_blank">Adminpanel</a>
    </div>
    <div style="margin-top:0.7rem; color:#444; font-size:1rem;">
      Du kan ogsÃ¥ skrive <span style="font-family:monospace;">localhost:3000</span> eller <span style="font-family:monospace;">localhost:3000/admin</span> direkte i nettleseren.
    </div>

    <h2 style="margin-top:2.2rem;">ğŸ“ Grupper, poeng og bilder</h2>
    <ul>
      <li>Finn og Ã¥pne Excel-malen (<code>MAL_Musikkvideouka.xlsx</code>) for Ã¥ legge inn grupper, poeng og evt. bilde-sti (<code>/bilder/filnavn.jpg</code>).</li>
      <li>Last opp eller rediger Excel-filen i adminpanelet. Du kan ogsÃ¥ lagre endringer direkte derfra.</li>
      <li>Bilder du Ã¸nsker legges i <code>public/bilder</code>-mappen. Skriv filstien i Excel-filen som nevnt over.</li>
      <li>All endring i adminpanelet oppdateres automatisk for publikum.</li>
      <li>Du kan endre tekst, poeng og bilder nÃ¥r som helst.</li>
      <li>For Ã¥ trekke fra poeng: skriv et negativt tall (f.eks. <code>-7</code>) i poengfeltet og trykk Enter.</li>
      <li>Det er lurt Ã¥ laste ned sikkerhetskopi nÃ¥r ting ser ut som du Ã¸nsker fÃ¸rste gang! Da er det enkelt Ã¥ hente opp dersom noe skulle skje.</li>
    </ul>
    
    <p style="margin-top:2rem;"><strong>Trenger du Ã¥ legge inn grupper, poeng eller bilder?</strong> Se veiledningen lenger ned pÃ¥ siden.</p>
    <h2 style="margin-top:2.5rem;">ğŸ“Œ Klar!</h2>
    <p>Systemet kjÃ¸rer nÃ¥ lokalt pÃ¥ din maskin. Ingen internett er nÃ¸dvendig.</p>
    <p>Du kan Ã¥pne denne veiledningen igjen ved Ã¥ Ã¥pne <code>START-HER.html</code></p>
    <h2 style="margin-top:2.5rem;">ğŸ–¼ï¸ Bilder</h2>
    <ul>
      <li>Legg bildene dine i mappen <code>public/bilder</code> i prosjektet.</li>
      <li>I Excel-filen, i kolonnen for bilde, skriv inn <strong>bildestien</strong> slik: <code>/bilder/gruppe1.jpg</code> (eller tilsvarende filnavn).</li>
      <li>Bildet vises automatisk for publikum sÃ¥ lenge filen ligger i <code>public/bilder</code> og stien er riktig.</li>
    </ul>
    <p><strong>Viktig:</strong></p>
    <ul>
      <li>Ikke bruk lenker som krever innlogging (f.eks. lukket Google Drive).</li>
      <li>Test gjerne bildeadressen i nettleseren fÃ¸rst â€“ hvis bildet Ã¥pnes direkte, er lenken god.</li>
      <li>Du kan bruke PNG, JPG eller GIF.</li>
    </ul>
  
    <ul>
      <li>For Ã¥ <strong>starte pÃ¥ nytt</strong>, skriv eller lim inn fÃ¸lgende kommando i terminalen og trykk Enter:</li>
    </ul>
    <!-- Kopier-knapp for node server.js er flyttet opp i veiledningen -->
    <h2 class="section-header">ğŸ“ Hva ligger i mappen?</h2>
    <p>Du skal ha en mappe som ser slik ut:</p>
    <pre>
/musikkvideouka
â”œâ”€â”€ START-HER.html         â† denne guiden
â”œâ”€â”€ server.js              â† kjÃ¸rer selve systemet
â”œâ”€â”€ Musikkvideouka.xlsx    â† Excel-mal med grupper og poeng
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ publikum.html      â† mal for publikumsiden
â”‚   â”œâ”€â”€ publikum.js        â† JavaScript for publikumsiden
â”‚   â”œâ”€â”€ publikumstyle.css  â† CSS for publikumsiden
â”‚   â”œâ”€â”€ admin.html         â† mal for adminpanelet
â”‚   â”œâ”€â”€ admin.js           â† JavaScript for adminpanelet
â”‚   â””â”€â”€ adminstyle.css     â† CSS for adminpanelet
â”œâ”€â”€ package.json           â† teknisk fil: forteller hvilke moduler som trengs
â”œâ”€â”€ package-lock.json      â† teknisk fil: versjoner og lÃ¥sing av avhengigheter
â”œâ”€â”€ node_modules/          â† mappe med installerte moduler (kommer etter "npm install")
    </pre>
    <!-- Avansert / manuell oppsett og feilsÃ¸king flyttet til bunn av siden -->
    <div class="advanced-box">
      <details>
        <summary><span class="advanced-arrow" aria-hidden="true">&#9654;</span> <span class="advanced-title">Avansert / manuell oppsett og feilsÃ¸king</span></summary>
        <div class="advanced-content">
          <h3>Manuell oppstart via terminal</h3>
          <ol>
            <li>Installer <strong>Node.js</strong> fra <a href="https://nodejs.org" target="_blank">nodejs.org</a> hvis du ikke har det.</li>
            <li>Ã…pne terminal/kommandolinje i prosjektmappen.</li>
            <li>KjÃ¸r <code>npm install</code> (fÃ¸rste gang).</li>
            <li>KjÃ¸r <code>node server.js</code> for Ã¥ starte serveren.</li>
            <li>Ã…pne <code>localhost:3000</code> eller <code>localhost:3000/admin</code> i nettleseren.</li>
          </ol>
          <h3>Mac: Gi kjÃ¸re-tillatelse til script</h3>
          <ul>
            <li>KjÃ¸r <code>chmod +x MacOS-start-alt.command</code> i terminalen hvis du fÃ¥r tilgangsfeil.</li>
          </ul>
          <h3>FeilsÃ¸king</h3>
          <ul>
            <li><strong>Publikumssiden er tom?</strong> Sjekk at Excel-filen er lastet opp i admin og trykk Oppdater.</li>
            <li><strong>Endringer vises ikke?</strong> Trykk Oppdater pÃ¥ nytt etter endringer i poeng/bilder.</li>
            <li><strong>Backup:</strong> Trykk Last ned i admin for Ã¥ lagre backup av Excel-filen.</li>
            <li><strong>Alt lÃ¥ser seg?</strong> Steng terminalen og start pÃ¥ nytt.</li>
            <li><strong>FÃ¥r du ikke startet serveren?</strong> Sjekk at Node.js er installert og at du stÃ¥r i riktig mappe.</li>
          </ul>
        </div>
      </details>
    </div>
  </div>
  <script>
    // Toast-melding for kopiering
    function showToast(msg) {
      let toast = document.getElementById('toastMsg');
      if (!toast) {
        toast = document.createElement('div');
        toast.id = 'toastMsg';
        toast.style.position = 'fixed';
        toast.style.bottom = '32px';
        toast.style.left = '50%';
        toast.style.transform = 'translateX(-50%)';
        toast.style.background = '#2a4a9c';
        toast.style.color = 'white';
        toast.style.padding = '0.7em 1.5em';
        toast.style.borderRadius = '8px';
        toast.style.fontSize = '1.1em';
        toast.style.zIndex = 9999;
        toast.style.opacity = 0;
        toast.style.transition = 'opacity 0.3s';
        document.body.appendChild(toast);
      }
      toast.textContent = msg;
      toast.style.opacity = 1;
      setTimeout(() => { toast.style.opacity = 0; }, 1200);
    }

    // Kopier-funksjon som alltid kopierer riktig tekst og viser toast
    function copyWithToast(inputId) {
      const inp = document.getElementById(inputId);
      if (!inp) return;
      inp.select();
      inp.setSelectionRange(0, 99999);
      try {
        document.execCommand('copy');
        window.getSelection().removeAllRanges();
        showToast('Kopiert!');
      } catch (e) {
        showToast('Klarte ikke Ã¥ kopiere');
      }
    }
    function copyChmod() {
      copyWithToast('chmodCopy');
    }
    // Advanced section copy functions
    function copyNodev2() { copyWithToast('nodevCopy2'); }
    function copyNpmInstall2() { copyWithToast('npmInstallCopy2'); }
    function copyStartHelper2() { copyWithToast('startHelperCopy2'); }
    function copyDev2() { copyWithToast('devCopy2'); }
    function copyChmod2() { copyWithToast('chmodCopy2'); }

    // Kopier Ctrl+C-kommando til utklippstavle
    document.addEventListener('DOMContentLoaded', function() {
      var copyBtn = document.getElementById('copyCtrlC');
      if (copyBtn) {
        copyBtn.addEventListener('click', function() {
          var input = document.getElementById('ctrlCCopy');
          if (input) {
            input.select();
            input.setSelectionRange(0, 99999);
            document.execCommand('copy');
            copyBtn.classList.add('copied');
            setTimeout(function() { copyBtn.classList.remove('copied'); }, 900);
          }
        });
      }
    });
  </script>
</body>
</html>
